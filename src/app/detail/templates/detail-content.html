<div class="detailsview-pane detail-content-pane informations">
    <div class="header detail-content-header">
        <div class="detail-content-title element-title">
            <div class="cat-icon">
                <ng-include ng-if="isSVG(result.properties.category.pictogram)" src="result.properties.category.pictogram"></ng-include>
                <img ng-if="!isSVG(result.properties.category.pictogram)" ng-src="{{::result.properties.category.pictogram}}" ng-alt="{{::result.properties.category.label}}">
            </div>
            <h1>{{result.properties.name}}</h1>
        </div>
    </div>

    <div class="main-infos">
        <div class="detail-content-intro intro">
            <detail-content-meta></detail-content-meta>
            <div class="detail-content-pictures pictures" ng-if="result.properties.pictures[0]">
                <div class="main-visual" ng-click="showLightbox(result.properties.pictures, 0)">
                    <img ng-src="{{::result.properties.pictures[0].url}}" ng-alt="{{::result.properties.pictures[0].legend}}">
                    <div class="picture-credit">
                        {{::result.properties.pictures[0].author}}
                    </div>
                </div>
                <div class="picture-legend">
                    {{::result.properties.pictures[0].legend}}
                </div>
                <ul ng-if="result.properties.pictures.length > 1">
                    <li ng-repeat="picture in result.properties.pictures" ng-if="!$first" ng-click="showLightbox(result.properties.pictures, $index)">
                        <img ng-src="{{::picture.url}}" ng-alt="{{::picture.title}}">
                    </li>
                </ul>
            </div>
            <div class="detail-content-intro-text">
                <div class="ambiance-and-teaser">
                    <div class="detail-content-teaser description_teaser" ng-if="result.properties.description_teaser">
                        <i class="fa fa-quote-left"></i>
                        <div ng-bind-html="sanitizeData(result.properties.description_teaser, true)"></div>
                    </div>
                    <div ng-if="result.properties.ambiance" ng-bind-html="sanitizeData(result.properties.ambiance, true)" class="ambiance"></div>
                </div>
                <div class="from-to">
                    <span ng-if="result.properties.departure && result.properties.departure !== result.properties.arrival">{{ 'START' | translate}} {{::result.properties.departure}}</span>
                    <span ng-if="result.properties.arrival">
                        <span ng-if="result.properties.departure !== result.properties.arrival" class="arrival">
                            {{ 'ARRIVAL' | translate}}
                        </span>
                        <span ng-if="result.properties.departure === result.properties.arrival" class="loop">
                            {{ 'LOOP' | translate}}
                        </span>
                        {{::result.properties.arrival}}
                    </span>
                    <span ng-if="!result.properties.departure && !result.properties.arrival && result.properties.cities[0]">
                        {{ 'TOWN_START' | translate}} {{::result.properties.cities[0].name}}
                    </span>
                    <div ng-if="result.properties.cities.length > 1">
                        <span>{{ 'TOWN_CROSSED' | translate}}</span>
                        <span ng-repeat="city in result.properties.cities track by city.code"><span ng-if="$index > 0">, </span>{{::city.name}}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="detail-content-descriptions element-description">
            <div ng-if="result.properties.description" ng-bind-html="sanitizeData(result.properties.description, true)" class="description"></div>
            <div class="events-info">
                <div ng-if="result.properties.begin_date" class="date">
                    <h5>{{'DATES' | translate}}</h5>
                    <span ng-if="result.properties.begin_date" class="begin-date">{{::result.properties.begin_date | date:'dd/MM/yyyy'}}</span>
                    <span ng-if="result.properties.ending-date && result.properties.ending-date !== result.properties.begin_date" class="ending-date"> -> {{::result.properties.begin_date | date:'dd/MM/yyyy'}}</span>
                </div>
                <div ng-if="result.properties.website" class="website">
                    <h5>{{'WEBSITE' | translate}}</h5>
                    <span><a href="{{result.properties.website}}" target="_blank" title="{{::result.properties.website}}">{{::result.properties.website}}</a></span>
                </div>
                <div ng-if="result.properties.email" class="email">
                    <h5>{{'EMAIL' | translate}}</h5>
                    <span><a href="mailto:{{::result.properties.email}}" target="_blank" title="{{::result.properties.email}}">{{::result.properties.email}}</a></span>
                </div>
                <div ng-if="result.properties.booking" class="booking">
                    <h5>{{'BOOKING' | translate}}</h5>
                    <span>{{::result.properties.booking}}</span>
                </div>
                <div ng-if="result.properties.meeting_point" class="meeting-point">
                    <h5>{{'MEETING_POINT' | translate}}</h5>
                    <span>{{::result.properties.meeting_point}}</span>
                </div>
                <div ng-if="result.properties.meeting_time" class="meeting-time">
                    <h5>{{'MEETING_TIME' | translate}}</h5>
                    <span>{{::result.properties.meeting_time | date:'h:mm'}}</span>
                </div>
                <div ng-if="result.properties.organizer" class="organizer">
                    <h5>{{'ORGANIZERS' | translate}}</h5>
                    <span>{{::result.properties.organizer}}</span>
                </div>
                <div ng-if="result.properties.participant_number" class="participant-number">
                    <h5>{{'PARTICIPANTS_NUMBER' | translate}}</h5>
                    <span>{{::result.properties.participant_number}}</span>
                </div>
                <div ng-if="result.properties.practical_info" class="practical-info">
                    <h5>{{'PRATICAL_INFOS' | translate}}</h5>
                    <div ng-bind-html="sanitizeData(result.properties.practical_info, true)"></div>
                </div>
                <div ng-if="result.properties.speaker" class="speaker">
                    <h5>{{'SPEAKERS' | translate}}</h5>
                    <span>{{::result.properties.speaker}}</span>
                </div>
            </div>
            <div class="detail-content-notice is-park-centered" ng-if="result.properties.is_park_centered">
                <i class="fa fa-info-circle"></i>
                <p ng-if="!rulesId">{{ 'PARK_CENTERED' | translate}}</p>
                <a ng-if="rulesId" ui-sref="layout.flat({flatID: rulesId})">{{ 'PARK_CENTERED' | translate}}</a>
            </div>
            <div class="detail-content-notice advice" ng-if="result.properties.advice">
                <i class="fa fa-exclamation-triangle"></i>
                <div ng-bind-html="sanitizeData(result.properties.advice, true)"></div>
            </div>
            <div class="detail-content-notice disabled-infrastructure" ng-if="result.properties.disabled_infrastructure">
                <i class="fa fa-wheelchair"></i>
                <div ng-bind-html="sanitizeData(result.properties.disabled_infrastructure, true)"></div>
            </div>
        </div>
        <div class="detail-content-infos more-infos">
            <div class="detail-content-elevation" ng-if="result.properties.contentType === 'trek'" id="elevation">
                <h3><i class="fa fa-area-chart"></i>{{'PROFILE_ALTI' | translate}}</h3>
                <div class="chart-container">
                    <p class="axislabel">{{'ELEVATIION_IN_M' | translate}}</p>
                    <p id="elevation-details" class="axislabel">
                        <span class="min">{{'MIN' | translate}} <span class="value">{{:: result.properties.min_elevation }} m</span></span> -
                        <span class="max">{{'MAX' | translate}} <span class="value">{{:: result.properties.max_elevation }} m</span></span>
                    </p>
                    <div class="canvas-container"></div>
                    <span id="elevation-altitude"></span> <span class="axislabel">{{'LENGTH_IN_M' | translate}}</span>
                    <p id="mouseoverprofil" class="axislabel" >&nbsp;</p>
                </div>
            </div>

            <div class="detail-content-transport transport" ng-if="result.properties.public_transport">
                <h3><i class="fa fa-bus"></i>{{ 'TRANSPORTS' | translate}}</h3>
                <div class="card" ng-bind-html="sanitizeData(result.properties.public_transport, true)"></div>
            </div>

            <div class="detail-content-access access" ng-if="result.properties.access">
                <h3><i class="fa fa-road"></i>{{ 'ACCESS' | translate}}</h3>
                <div class="card" ng-bind-html="sanitizeData(result.properties.access, true)"></div>
            </div>

            <div class="detail-content-desks info-desks" ng-if="result.properties.information_desks[0]">
                <h3><i class="fa fa-info"></i>{{ 'INFORMATION_DESKS' | translate}}</h3>
                <ul>
                    <li ng-repeat="desk in result.properties.information_desks" class="desk card">
                        <div class="infos">
                            <div class="image">
                                <img ng-if="desk.photo_url" ng-src="{{::desk.photo_url}}" alt="{{::desk.name}}"/>
                                <img ng-if="!desk.photo_url" ng-src="/images/desk-placeholder.jpg" alt="{{::desk.name}}"/>
                            </div>
                            <div class="contact">
                                <div class="name">{{::desk.name}}</div>
                                <div class="address">
                                    <div class="street">
                                        {{::desk.street}}
                                    </div>
                                    <span>{{::desk.postal_code}}</span>
                                    <span>{{::desk.municipality}}</span>
                                </div>
                                <a ng-if="desk.website" class="website" href="{{::desk.website}}" target="_blank">Site web</a>
                                <a ng-if="desk.email" class="mail" href="mailto:{{::desk.email}}" target="_blank">{{::desk.email}}</a>
                                <a ng-if="desk.phone" class="phone" href="tel:{{::desk.phone}}" target="_blank">{{::desk.phone}}</a>
                            </div>
                        </div>
                        <div class="description">
                            <div class="text" ng-bind-html="sanitizeData(desk.description, true)"></div>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="detail-content-contact contact-card" ng-if="result.properties.contact || result.properties.email">
                <h3><i class="fa fa-tty"></i>{{ 'CONTACT' | translate}}</h3>
                <ul>
                    <li class="card">
                        <div class="contact" ng-if="result.properties.contact" ng-bind-html="sanitizeData(result.properties.contact, true)"></div>
                    </li>
                </ul>
            </div>

            <div class="detail-content-further going-further" ng-if="result.properties.web_links[0]">
                <h3><i class="fa fa-plus"></i>{{ 'KNOW_MORE' | translate}}</h3>
                <ul ng-if="result.properties.web_links[0]" class="websites">
                    <li ng-repeat="link in result.properties.web_links">
                        <a href="{{::link.url}}" title="{{::link.name}}" target="_blank">
                            <img ng-if="link.category.pictogram && !isSVG(link.category.pictogram)" ng-src="{{::link.category.pictogram}}" ng-alt="{{::link.category.label}}">
                            <ng-include ng-if="link.category.pictogram && isSVG(link.category.pictogram)" src="link.category.pictogram"></ng-include>
                            <span>{{::link.name}}</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="detail-content-related related-treks" ng-if="result.properties.relationships.has_common_departure.length > 0 || result.properties.relationships.has_common_edge.length > 0 || result.properties.relationships.is_circuit_step.length > 0">
                <h3><i class="fa fa-plus"></i>{{ 'RELATED_TREKS' | translate}}</h3>

                <div ng-if="result.properties.relationships.has_common_departure.length > 0">
                    <h4>{{'HAS_COMMON_DEPARTURE' | translate}}</h4>
                    <ul>
                        <li ng-repeat="relatedTrek in result.properties.relationships.has_common_departure track by relatedTrek.id">
                            <a ui-sref="layout.detail({catSlug: result.properties.category.slug, slug: relatedTrek.slug})">{{relatedTrek.name}}</a>
                        </li>
                    </ul>
                </div>

                <div ng-if="result.properties.relationships.has_common_edge.length > 0">
                    <h4>{{'HAS_COMMON_EDGE' | translate}}</h4>
                    <ul>
                        <li ng-repeat="relatedTrek in result.properties.relationships.has_common_edge track by relatedTrek.id">
                            <a ui-sref="layout.detail({catSlug: result.properties.category.slug, slug: relatedTrek.slug})">{{relatedTrek.name}}</a>
                        </li>
                    </ul>
                </div>

                <div ng-if="result.properties.relationships.is_circuit_step.length > 0">
                    <h4>{{'IS_CIRCUIT_STEP' | translate}}</h4>
                    <ul>
                        <li ng-repeat="relatedTrek in result.properties.relationships.is_circuit_step track by relatedTrek.id">
                            <a ui-sref="layout.detail({catSlug: result.properties.category.slug, slug: relatedTrek.slug})">{{relatedTrek.name}}</a>
                        </li>
                    </ul>
                </div>

            </div>

        </div>


        <detail-page-footer></detail-page-footer>
    </div>
</div>
