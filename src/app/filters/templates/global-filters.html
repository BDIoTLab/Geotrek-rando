<div id="global-filters">
    <form>
        <div class="top-part">
            <div class="search">
                <div class="input-group">
                    <input type="text" ng-model="activeFilters.search"  ng-change="propagateActiveFilters()" placeholder="{{'SEARCH' | translate}}..."/>
                    <div class="input-group-addon">
                        <i class="fa fa-search"></i>
                    </div>
                </div>
            </div>
            <div class="geo-filters">
                <div class="selector districts" ng-class="{empty: filters.districts.length === 0}">
                    <span>{{'DISTRICTS' | translate}} <span ng-if="filterLength.districts > 0" class="badge">{{filterLength.districts}}</span></span>
                    <div class="choices">
                        <div ng-repeat="district in filters.districts" class="district form-group">
                            <input type="checkbox" id="district-{{district.id}}" value="{{district.id}}" ng-false-value="null" ng-model="activeFilters.districts[district.id]"  ng-change="propagateActiveFilters()"/>
                            <label for="district-{{district.id}}">
                                <span>{{district.name}}</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="selector areas" ng-class="{empty: filters.areas.length === 0}">
                    <span>{{'AREAS' | translate}} <span ng-if="filterLength.areas > 0" class="badge">{{filterLength.areas}}</span></span>
                    <div class="choices">
                        <div ng-repeat="area in filters.areas" class="area form-group">
                            <input type="checkbox" id="area-{{area.id}}" value="{{area.id}}" ng-model="activeFilters.areas[area.id]" ng-false-value="null" ng-change="propagateActiveFilters()"/>
                            <label for="area-{{area.id}}">
                                <span>{{area.name}}</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="themes">
            <div ng-repeat="theme in filters.themes" class="theme form-group" tooltip-placement="top" tooltip="{{theme.label}}">
                <input type="checkbox" id="theme-{{theme.id}}" value="{{theme.id}}" ng-model="activeFilters.themes[theme.id]" ng-false-value="null" ng-change="propagateActiveFilters()"/>
                <label for="theme-{{theme.id}}">
                    <span class="sr-only">{{theme.label}}</span>
                    <img ng-if="!isSVG(theme.pictogram)" ng-src="{{theme.pictogram}}" ng-alt="{{theme.label}}">
                    <ng-include ng-if="isSVG(theme.pictogram)" src="theme.pictogram"></ng-include>
                </label>
            </div>
        </div>
    </form>
</div>